# Ch 3

## AAA 패턴
* Arrange: 테스트 환경 준비
* Act: 테스트할 동작 실행
* Assert: 기대한 결과 확인

## 좋은 테스트 작성 습관
* 하나의 test에는 하나의 act. assert는 여러가지 인 경우에는 여러개 가능.
* If문 작성 금지
* 테스트가 실패했을때 디버깅을 최소화하고 원인을 바로 알 수 있도록 네세지 구성
* 비개발자도 이해할 수 있고 실제 문장처럼 문법 또한 지켜서 테스트 이름 작성
* SUT의 메서드 이름을 테스트 이름을 넣으면 메서드 이름이 바뀔때 마다 수정해야하기 때문에 넣지 않는다
* 비슷한 테스트는 Parameterized Test로 묶어서 실행. 하지만 가독성은 항상 유의
* Fluent Assertions를 사용하자.
    * Assert.Equal(30, result) -> result.Should().Be(30)
* 중복된 테스트 준비 코드는 팩토리 메서드로 분리

-> 테스트는 코드가 아니라 동작을 테스트하는 것이다



# ch 4

## 좋은 테스트의 핵심 요소
* 회귀로부터의 보호
    * 새로운 코드가 기존 기능이 깨지지 않았는지 감지
    * 기능이 많아질수록 회귀 위험 증가하며, 테스트가 회귀를 막아주지 않으면 프로젝트는 점점 불안정해지고 확장 불가능해진다.
* 리팩토링에 대한 저항성
    * 리팩터링을 해도 테스트가 실패하지 않아야 한다. 즉, 기능이 그대로면 테스트도 그대로 통과해야 한다.
    * 정상 작동 중인데도 테스트가 실패하는 현상을 거짓 양성이라고 하며 주로 구현 세부사항에 의존한 테스트에서 발생한다.
    * 거짓 양성의 부작용으로는, 테스트에 대한 신뢰도 하락 → 무시되는 테스트 → 리팩터링 기피 → 코드 품질 악화로 이어짐.
* 빠른 피드백
    * 테스트는 빠를수록 좋다. 그래야 자주 돌리고, 빨리 고칠 수 있다
* 유지보수성
    * 테스트도 코드다. 읽기 쉽고, 고치기 쉬워야 한다
        * 억지로 압축하기 보다 명확하고 짧게 유지하면 읽기 쉴고,
        * 외부 시스템에 의존하면 고치지 어렵다.
